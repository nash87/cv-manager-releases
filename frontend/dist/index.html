<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Manager Pro - Verschlüsselt & DSGVO-Konform</title>
    <link rel="stylesheet" href="style.css">
    <script src="i18n/i18n.js"></script>
</head>
<body>
    <!-- Custom Titlebar with Window Controls -->
    <div class="titlebar" data-wails-drag>
        <div class="titlebar-title">CV Manager Pro</div>
        <div class="titlebar-controls">
            <button class="titlebar-btn" id="minimizeBtn" title="Minimieren">
                <svg width="12" height="12" viewBox="0 0 12 12"><line x1="0" y1="6" x2="12" y2="6" stroke="currentColor" stroke-width="1.5"/></svg>
            </button>
            <button class="titlebar-btn" id="maximizeBtn" title="Maximieren">
                <svg width="12" height="12" viewBox="0 0 12 12"><rect x="1" y="1" width="10" height="10" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
            </button>
            <button class="titlebar-btn titlebar-close" id="closeBtn" title="Schließen">
                <svg width="12" height="12" viewBox="0 0 12 12"><line x1="2" y1="2" x2="10" y2="10" stroke="currentColor" stroke-width="1.5"/><line x1="10" y1="2" x2="2" y2="10" stroke="currentColor" stroke-width="1.5"/></svg>
            </button>
        </div>
    </div>

    <!-- Splash Screen with Loading Animation -->
    <div id="splashScreen" class="splash-screen">
        <div class="splash-content">
            <div class="splash-logo">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="url(#splashGradient)" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                    <path d="M9 12l2 2 4-4"></path>
                </svg>
                <defs>
                    <linearGradient id="splashGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                    </linearGradient>
                </defs>
            </div>

            <h1 class="splash-title">CV Manager Pro</h1>
            <p class="splash-subtitle">Verschlüsselt & DSGVO-Konform</p>

            <!-- Loading Spinner -->
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>

            <!-- Loading Status -->
            <div class="loading-status">
                <p id="loadingStatusText">Initialisierung...</p>
            </div>

            <!-- Progress Bar -->
            <div class="progress-bar-container">
                <div class="progress-bar" id="splashProgress"></div>
            </div>

            <!-- Version Information -->
            <div class="version-info">
                <p class="splash-version" id="splashVersion">Version wird geladen...</p>
                <p class="splash-build" id="splashBuild" style="font-size: 11px; color: rgba(255,255,255,0.6); margin-top: 4px;"></p>
            </div>

            <!-- Migration Status -->
            <div id="migrationStatus" class="migration-status" style="display: none;">
                <div class="migration-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                </div>
                <div class="migration-text">
                    <p class="migration-title">Update erkannt</p>
                    <p class="migration-message" id="migrationMessage">Migriere von v<span id="oldVersion">1.0.0</span> auf v<span id="newVersion">1.1.0</span>...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Consent Screen (First Launch) -->
    <div id="consentScreen" class="consent-screen" style="display: none;">
        <div class="consent-content-new">
            <!-- Header with shield icon -->
            <div class="consent-header">
                <div class="consent-shield">
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" fill="var(--accent-primary)" opacity="0.1"></path>
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke="var(--accent-primary)"></path>
                    </svg>
                </div>
                <h1>Willkommen bei <span style="color: var(--accent-primary);">CV Manager Pro</span></h1>
                <p class="consent-tagline">Professionelle Lebenslauf-Verwaltung mit militärischer Verschlüsselung</p>
            </div>

            <!-- Tech Stack Information -->
            <div class="tech-info-box">
                <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>Technische Details</h3>
                <div class="tech-grid">
                    <div class="tech-item">
                        <span class="tech-label">Framework:</span>
                        <span class="tech-value">Wails v2.11.0 (Go + WebView2)</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-label">Datenbank:</span>
                        <span class="tech-value">BadgerDB v4.2.0 (LSM-Tree)</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-label">Verschlüsselung:</span>
                        <span class="tech-value">AES-256-GCM + PBKDF2 (100k Iterations)</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-label">Datenspeicherort:</span>
                        <span class="tech-value" id="dataLocation">Wird geladen...</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-label">Backend:</span>
                        <span class="tech-value">Go 1.21+ (Compiled Binary)</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-label">Frontend:</span>
                        <span class="tech-value">Vanilla JS + CSS3 (No external CDN)</span>
                    </div>
                </div>
            </div>

            <!-- Security Features with GREEN checkmarks -->
            <div class="security-features">
                <h3>Deine Daten sind sicher</h3>
                <div class="feature-grid">
                    <div class="security-feature">
                        <svg class="check-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" fill="#10b981" opacity="0.15"></circle>
                            <path d="M9 12l2 2 4-4" stroke="#10b981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <div>
                            <h4>100% Offline & Lokal</h4>
                            <p>Keine Internetverbindung erforderlich. Alle Daten bleiben auf deinem Gerät.</p>
                        </div>
                    </div>
                    <div class="security-feature">
                        <svg class="check-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" fill="#10b981" opacity="0.15"></circle>
                            <path d="M9 12l2 2 4-4" stroke="#10b981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <div>
                            <h4>End-to-End Verschlüsselung</h4>
                            <p>AES-256-GCM Verschlüsselung mit PBKDF2 Key-Derivation (100.000 Iterations)</p>
                        </div>
                    </div>
                    <div class="security-feature">
                        <svg class="check-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" fill="#10b981" opacity="0.15"></circle>
                            <path d="M9 12l2 2 4-4" stroke="#10b981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <div>
                            <h4>DSGVO-Konform</h4>
                            <p>Volle Einhaltung der EU-Datenschutzbestimmungen (Art. 6, 7, 13, 15, 17, 20, 32)</p>
                        </div>
                    </div>
                    <div class="security-feature">
                        <svg class="check-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" fill="#10b981" opacity="0.15"></circle>
                            <path d="M9 12l2 2 4-4" stroke="#10b981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <div>
                            <h4>Open Source Ready</h4>
                            <p>Transparente Datenverarbeitung mit vollständigem Compliance-Log</p>
                        </div>
                    </div>
                    <div class="security-feature">
                        <svg class="check-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" fill="#10b981" opacity="0.15"></circle>
                            <path d="M9 12l2 2 4-4" stroke="#10b981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <div>
                            <h4>Volle Datenkontrolle</h4>
                            <p>Export & Löschung aller Daten jederzeit möglich (Art. 15, 17, 20 DSGVO)</p>
                        </div>
                    </div>
                    <div class="security-feature">
                        <svg class="check-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="10" fill="#10b981" opacity="0.15"></circle>
                            <path d="M9 12l2 2 4-4" stroke="#10b981" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                        <div>
                            <h4>Keine Telemetrie</h4>
                            <p>Zero Tracking, keine Analytics, keine Cloud-Sync. Deine Daten gehören nur dir.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Consent Agreement -->
            <div class="consent-agreement-new">
                <div class="agreement-header">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                    </svg>
                    <strong>Einwilligung zur Datenverarbeitung (Art. 6 Abs. 1 lit. a DSGVO)</strong>
                </div>
                <p>Mit Klick auf "Ich stimme zu" willigst du ein in:</p>
                <ul class="consent-list">
                    <li>Lokale Speicherung deiner CV-Daten im verschlüsselten BadgerDB-Format</li>
                    <li>Verarbeitung deiner persönlichen Daten ausschließlich für CV-Verwaltungszwecke</li>
                    <li>Protokollierung von Datenoperationen für Compliance-Transparenz (DSGVO Art. 30)</li>
                </ul>
                <div class="consent-note">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="16" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                    </svg>
                    <p>Du kannst deine Einwilligung jederzeit in den Einstellungen widerrufen (Art. 7 Abs. 3 DSGVO). Alle Daten werden ausschließlich lokal gespeichert und niemals an externe Server übertragen.</p>
                </div>
            </div>

            <!-- Action Button -->
            <button class="btn-consent" id="grantConsentBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
                Ich stimme zu - CV Manager Pro starten
            </button>

            <p class="consent-version">CV Manager Pro v1.0.0 - Made with Go & Wails</p>
        </div>
    </div>

    <!-- Onboarding Wizard -->
    <div id="onboardingWizard" class="onboarding-wizard" style="display: none;">
        <div class="onboarding-content">
            <button class="onboarding-skip" id="skipOnboarding" data-i18n="onboarding.skip">Skip Tutorial</button>

            <div class="onboarding-step" data-step="1">
                <div class="onboarding-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="M9 12l2 2 4-4"></path>
                    </svg>
                </div>
                <h2 data-i18n="onboarding.welcome">Welcome to CV Manager Pro!</h2>
                <p data-i18n="onboarding.steps.step1.description">Let's walk you through creating your professional CV in just a few steps.</p>
                <div class="onboarding-progress">
                    <div class="progress-dot active"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                </div>
                <button class="btn-primary btn-large onboarding-next" data-i18n="onboarding.next">Next</button>
            </div>

            <div class="onboarding-step" data-step="2" style="display: none;">
                <div class="onboarding-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="8.5" cy="7" r="4"></circle>
                        <line x1="20" y1="8" x2="20" y2="14"></line>
                        <line x1="23" y1="11" x2="17" y2="11"></line>
                    </svg>
                </div>
                <h2 data-i18n="onboarding.steps.step2.title">Personal Information</h2>
                <p data-i18n="onboarding.steps.step2.description">Enter your name, contact details, and professional summary. All data is encrypted and stored locally.</p>

                <!-- Onboarding Input Forms -->
                <div class="onboarding-form">
                    <div class="form-group-inline">
                        <input type="text" id="onb-firstName" placeholder="Max" class="input-sm">
                        <label data-i18n="onboarding.form.firstName">First Name</label>
                    </div>
                    <div class="form-group-inline">
                        <input type="text" id="onb-lastName" placeholder="Mustermann" class="input-sm">
                        <label data-i18n="onboarding.form.lastName">Last Name</label>
                    </div>
                    <div class="form-group-inline">
                        <input type="email" id="onb-email" placeholder="max@example.com" class="input-sm">
                        <label data-i18n="onboarding.form.email">Email</label>
                    </div>
                </div>

                <div class="onboarding-progress">
                    <div class="progress-dot completed"></div>
                    <div class="progress-dot active"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                </div>
                <div class="onboarding-buttons">
                    <button class="btn-secondary onboarding-prev" data-i18n="onboarding.previous">Previous</button>
                    <button class="btn-primary onboarding-next" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" data-step="3" style="display: none;">
                <div class="onboarding-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                </div>
                <h2 data-i18n="onboarding.steps.step3.title">Wähle deinen CV-Stil</h2>
                <p data-i18n="onboarding.steps.step3.description">Wähle aus 6 professionellen Designs. Du kannst den Stil später jederzeit ändern!</p>

                <!-- Theme Selection Grid -->
                <div class="theme-selection-grid">
                    <!-- Classic Template Variations -->
                    <div class="theme-card" data-theme="classic-blue" data-template="classic" data-color="blue">
                        <div class="theme-thumbnail classic-blue-thumb"></div>
                        <div class="theme-info">
                            <h4>Classic Professional</h4>
                            <span class="theme-badge" style="background:#2563EB">Blau</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="classic-green" data-template="classic" data-color="green">
                        <div class="theme-thumbnail classic-green-thumb"></div>
                        <div class="theme-info">
                            <h4>Classic Nature</h4>
                            <span class="theme-badge" style="background:#059669">Grün</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="classic-red" data-template="classic" data-color="red">
                        <div class="theme-thumbnail classic-red-thumb"></div>
                        <div class="theme-info">
                            <h4>Classic Energy</h4>
                            <span class="theme-badge" style="background:#DC2626">Rot</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="classic-purple" data-template="classic" data-color="purple">
                        <div class="theme-thumbnail classic-purple-thumb"></div>
                        <div class="theme-info">
                            <h4>Classic Elegant</h4>
                            <span class="theme-badge" style="background:#8B5CF6">Lila</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="classic-dark" data-template="classic" data-color="dark">
                        <div class="theme-thumbnail classic-dark-thumb"></div>
                        <div class="theme-info">
                            <h4>Classic Executive</h4>
                            <span class="theme-badge" style="background:#1F2937">Dunkel</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="classic-teal" data-template="classic" data-color="teal">
                        <div class="theme-thumbnail classic-teal-thumb"></div>
                        <div class="theme-info">
                            <h4>Classic Ocean</h4>
                            <span class="theme-badge" style="background:#0D9488">Türkis</span>
                        </div>
                    </div>

                    <!-- Modern Template Variations -->
                    <div class="theme-card" data-theme="modern-purple" data-template="modern" data-color="purple">
                        <div class="theme-thumbnail modern-purple-thumb"></div>
                        <div class="theme-info">
                            <h4>Modern Minimal</h4>
                            <span class="theme-badge" style="background:#8B5CF6">Lila</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="modern-blue" data-template="modern" data-color="blue">
                        <div class="theme-thumbnail modern-blue-thumb"></div>
                        <div class="theme-info">
                            <h4>Modern Tech</h4>
                            <span class="theme-badge" style="background:#3B82F6">Blau</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="modern-coral" data-template="modern" data-color="coral">
                        <div class="theme-thumbnail modern-coral-thumb"></div>
                        <div class="theme-info">
                            <h4>Modern Warm</h4>
                            <span class="theme-badge" style="background:#F59E0B">Koralle</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="modern-teal" data-template="modern" data-color="teal">
                        <div class="theme-thumbnail modern-teal-thumb"></div>
                        <div class="theme-info">
                            <h4>Modern Fresh</h4>
                            <span class="theme-badge" style="background:#14B8A6">Türkis</span>
                        </div>
                    </div>

                    <!-- Creative Template Variations -->
                    <div class="theme-card" data-theme="creative-orange" data-template="creative" data-color="orange">
                        <div class="theme-thumbnail creative-orange-thumb"></div>
                        <div class="theme-info">
                            <h4>Creative Bold</h4>
                            <span class="theme-badge" style="background:#EA580C">Orange</span>
                        </div>
                    </div>

                    <div class="theme-card" data-theme="creative-pink" data-template="creative" data-color="pink">
                        <div class="theme-thumbnail creative-pink-thumb"></div>
                        <div class="theme-info">
                            <h4>Creative Vibrant</h4>
                            <span class="theme-badge" style="background:#EC4899">Pink</span>
                        </div>
                    </div>
                </div>

                <div class="onboarding-progress">
                    <div class="progress-dot completed"></div>
                    <div class="progress-dot completed"></div>
                    <div class="progress-dot active"></div>
                    <div class="progress-dot"></div>
                </div>
                <div class="onboarding-buttons">
                    <button class="btn-secondary onboarding-prev" data-i18n="onboarding.previous">Previous</button>
                    <button class="btn-primary onboarding-next" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" data-step="4" style="display: none;">
                <div class="onboarding-icon">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                        <polyline points="22 4 12 14.01 9 11.01"></polyline>
                    </svg>
                </div>
                <h2 data-i18n="onboarding.steps.step4.title">You're All Set!</h2>
                <p data-i18n="onboarding.steps.step4.description">Start creating your CVs. Your data is encrypted with AES-256 and GDPR compliant.</p>
                <div class="onboarding-progress">
                    <div class="progress-dot completed"></div>
                    <div class="progress-dot completed"></div>
                    <div class="progress-dot completed"></div>
                    <div class="progress-dot active"></div>
                </div>
                <button class="btn-primary btn-large onboarding-finish" data-i18n="onboarding.finish">Get Started</button>
            </div>
        </div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <rect width="32" height="32" rx="8" fill="url(#gradient)"/>
                    <path d="M8 12H24M8 16H24M8 20H18" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <defs>
                        <linearGradient id="gradient" x1="0" y1="0" x2="32" y2="32">
                            <stop offset="0%" stop-color="#667eea"/>
                            <stop offset="100%" stop-color="#764ba2"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>CV Manager</h1>
            </div>

            <!-- Security Status Indicator -->
            <div class="security-indicator">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                    <path d="M9 12l2 2 4-4"></path>
                </svg>
                <span>Encrypted & Secure</span>
            </div>
        </div>

        <nav class="sidebar-nav">
            <button class="nav-item active" data-view="dashboard">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                </svg>
                <span>Dashboard</span>
            </button>

            <button class="nav-item" data-view="statistics">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                </svg>
                <span data-i18n="nav.statistics">Statistics</span>
            </button>

            <button class="nav-item" data-view="applications">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                </svg>
                <span data-i18n="nav.applications">Bewerbungen</span>
            </button>

            <button class="nav-item" data-view="visualEditor">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                </svg>
                <span>Visual Editor</span>
            </button>

            <button class="nav-item" data-view="privacy">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
                <span>Privacy & Security</span>
            </button>

            <button class="nav-item" data-view="settings">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                </svg>
                <span>Settings</span>
            </button>

            <button class="nav-item" data-view="updates">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span>Updates</span>
            </button>

            <div style="margin-top: auto; padding-top: 16px; border-top: 1px solid var(--border-color);">
                <button class="nav-item" id="exitBtn" style="color: var(--text-error);">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd"/>
                    </svg>
                    <span data-i18n="nav.exit">Exit</span>
                </button>
            </div>
        </nav>

    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard View -->
        <div id="dashboardView" class="view active">
            <!-- Toolbar -->
            <div class="toolbar">
                <div class="search-bar">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                    </svg>
                    <input type="text" id="searchInput" placeholder="Search CVs...">
                </div>

                <div class="filters">
                    <select id="statusFilter" class="filter-select">
                        <option value="">All Status</option>
                        <option value="draft">Draft</option>
                        <option value="ready">Ready</option>
                        <option value="submitted">Submitted</option>
                        <option value="archived">Archived</option>
                    </select>

                    <select id="categoryFilter" class="filter-select">
                        <option value="">All Categories</option>
                    </select>
                </div>
            </div>

            <!-- New CV Action (Prominent) -->
            <div class="dashboard-action-center">
                <button class="btn-new-cv-large" id="newCvBtnDashboard">
                    <svg width="32" height="32" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                    </svg>
                    <span>Neuen Lebenslauf erstellen</span>
                </button>
            </div>

            <!-- CV Grid -->
            <div class="cv-grid" id="cvGrid">
                <!-- CV cards will be inserted here -->
            </div>
        </div>

        <!-- Statistics View -->
        <div id="statisticsView" class="view">
            <div class="stats-view-header">
                <div>
                    <h1 data-i18n="statistics.title">Statistiken</h1>
                    <p data-i18n="statistics.subtitle">Übersicht über deine CVs und Bewerbungen</p>
                </div>
                <div class="stats-period-selector">
                    <button class="period-btn active" data-period="all">Gesamt</button>
                    <button class="period-btn" data-period="year">Dieses Jahr</button>
                    <button class="period-btn" data-period="month">Dieser Monat</button>
                </div>
            </div>

            <!-- Overview Stats Cards (Compact) -->
            <div class="stats-overview-grid">
                <div class="stat-card-compact">
                    <div class="stat-icon" style="background: rgba(127, 109, 242, 0.1);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7f6df2" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-label">Lebensläufe Gesamt</span>
                        <span class="stat-value" id="stat-total-cvs">0</span>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-label">Bewerbungen</span>
                        <span class="stat-value" id="stat-total-apps">0</span>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2">
                            <path d="M20 7h-9"></path>
                            <path d="M14 17H5"></path>
                            <circle cx="17" cy="17" r="3"></circle>
                            <circle cx="7" cy="7" r="3"></circle>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-label">Berufserfahrung</span>
                        <span class="stat-value" id="stat-total-work">0</span>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2">
                            <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
                            <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-label">Bildungsabschlüsse</span>
                        <span class="stat-value" id="stat-total-edu">0</span>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon" style="background: rgba(239, 68, 68, 0.1);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2">
                            <path d="M12 20h9"></path>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-label">Fähigkeiten</span>
                        <span class="stat-value" id="stat-total-skills">0</span>
                    </div>
                </div>

                <div class="stat-card-compact">
                    <div class="stat-icon" style="background: rgba(168, 85, 247, 0.1);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#a855f7" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <span class="stat-label">Ø Berufserfahrung pro CV</span>
                        <span class="stat-value" id="stat-avg-work">0.0</span>
                    </div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="stats-charts-grid">
                <!-- CV Status Distribution (Donut Chart) -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 6v6l4 2"></path>
                            </svg>
                            CV Status-Verteilung
                        </h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="statusDonutChart"></canvas>
                    </div>
                    <div class="chart-legend" id="statusLegend"></div>
                </div>

                <!-- Category Distribution (Donut Chart) -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <path d="M22 6l-10 7L2 6"></path>
                            </svg>
                            Kategorien
                        </h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="categoryDonutChart"></canvas>
                    </div>
                    <div class="chart-legend" id="categoryLegend"></div>
                </div>

                <!-- Template Usage (Bar Chart) -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="9" y1="3" x2="9" y2="21"></line>
                            </svg>
                            Template-Nutzung
                        </h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="templateBarChart"></canvas>
                    </div>
                </div>

                <!-- Skills Overview (Horizontal Bar) -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                            Durchschnittliche Werte
                        </h3>
                    </div>
                    <div class="chart-container">
                        <div class="horizontal-bars" id="avgBars">
                            <!-- Bars will be generated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Detailed Stats Table -->
            <div class="stats-table-card">
                <div class="stats-table-header">
                    <h3>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        Detaillierte Übersicht
                    </h3>
                </div>
                <div class="stats-table-container" id="statsTable">
                    <!-- Table will be generated here -->
                </div>
            </div>
        </div>

        <!-- Applications Management View -->
        <div id="applicationsView" class="view">
            <div class="applications-header">
                <div>
                    <h1 data-i18n="applications.title">Bewerbungsmanagement</h1>
                    <p data-i18n="applications.subtitle">Verfolge deine Bewerbungen und Rückmeldungen</p>
                </div>
                <button class="btn-primary" id="newApplicationBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"/>
                    </svg>
                    <span data-i18n="applications.newApplication">Neue Bewerbung</span>
                </button>
            </div>

            <!-- Application Statistics -->
            <div class="application-stats-grid" id="applicationStatsGrid">
                <!-- Stats will be inserted here -->
            </div>

            <!-- Filter & Search -->
            <div class="applications-filter-bar">
                <input type="text" id="applicationSearch" placeholder="Bewerbungen durchsuchen..." class="search-input">
                <select id="applicationStatusFilter" class="filter-select">
                    <option value="">Alle Status</option>
                    <option value="draft">Entwurf</option>
                    <option value="applied">Beworben</option>
                    <option value="interview_scheduled">Vorstellungsgespräch geplant</option>
                    <option value="interviewed">Vorstellungsgespräch abgeschlossen</option>
                    <option value="offer">Angebot erhalten</option>
                    <option value="accepted">Angenommen</option>
                    <option value="rejected">Abgelehnt</option>
                </select>
                <select id="applicationPortalFilter" class="filter-select">
                    <option value="">Alle Portale</option>
                </select>
            </div>

            <!-- Applications Timeline (Red Thread) -->
            <div class="applications-timeline" id="applicationsTimeline">
                <!-- Timeline will be inserted here -->
            </div>
        </div>

        <!-- Visual PDF Editor View -->
        <div id="visualEditorView" class="view">
            <div class="visual-editor-container">
                <!-- Editor Toolbar -->
                <div class="visual-editor-toolbar">
                    <h2>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline; margin-right: 8px;">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        Live PDF Editor
                    </h2>
                    <div class="toolbar-actions">
                        <select id="visualEditorCVSelect" class="cv-selector">
                            <option value="">CV auswählen...</option>
                        </select>
                        <button class="btn-secondary" id="refreshPreviewBtn">
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
                            </svg>
                            Aktualisieren
                        </button>
                        <button class="btn-primary" id="exportVisualPDFBtn">
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd"/>
                            </svg>
                            PDF Exportieren
                        </button>
                    </div>
                </div>

                <!-- Split View: PDF Preview + Settings -->
                <div class="split-view">
                    <!-- Left: Live PDF Preview -->
                    <div class="pdf-preview-panel">
                        <div class="panel-header">
                            <h3>Live Vorschau</h3>
                            <div class="zoom-controls">
                                <button class="btn-icon" id="zoomOutBtn">
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z" clip-rule="evenodd"/>
                                    </svg>
                                </button>
                                <span id="zoomLevel">100%</span>
                                <button class="btn-icon" id="zoomInBtn">
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="pdf-preview-container" id="pdfPreviewContainer">
                            <div class="pdf-loading">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10" opacity="0.25"></circle>
                                    <path d="M12 2a10 10 0 0 1 10 10" opacity="0.75">
                                        <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="1s" repeatCount="indefinite"/>
                                    </path>
                                </svg>
                                <p>Wähle einen Lebenslauf aus...</p>
                            </div>
                            <iframe id="pdfPreviewFrame" style="display: none;"></iframe>
                        </div>
                    </div>

                    <!-- Right: Style Settings -->
                    <div class="settings-panel">
                        <div class="panel-header">
                            <h3>Einstellungen</h3>
                            <p>Ändere Template & Stil</p>
                        </div>

                        <div class="style-settings">
                            <div class="setting-group">
                                <label>
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"/>
                                    </svg>
                                    Template
                                </label>
                                <select id="templateSelect" class="setting-control">
                                    <option value="modern">Modern (2-Spalten)</option>
                                    <option value="classic">Classic (1-Spalte)</option>
                                    <option value="creative">Creative (Farbenfroh)</option>
                                </select>
                            </div>

                            <div class="setting-group">
                                <label>
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2 2 0 000-2.828L13.485 5.1a2 2 0 00-2.828 0L10 5.757v8.486zM16 18H9.071l6-6H16a2 2 0 012 2v2a2 2 0 01-2 2z" clip-rule="evenodd"/>
                                    </svg>
                                    Farbschema
                                </label>
                                <select id="colorSchemeSelect" class="setting-control">
                                    <option value="blue">Professional Blau</option>
                                    <option value="green">Frisches Grün</option>
                                    <option value="purple">Kreatives Lila</option>
                                    <option value="red">Mutiges Rot</option>
                                    <option value="orange">Warmes Orange</option>
                                    <option value="dark">Elegantes Dunkel</option>
                                </select>
                            </div>

                            <div class="setting-group">
                                <label>
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                                    </svg>
                                    Schriftgröße
                                </label>
                                <input type="range" id="fontSizeRange" min="8" max="16" value="12" class="setting-control">
                            <span id="fontSizeValue">12pt</span>
                            </div>

                            <div class="setting-group">
                                <label>
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"/>
                                        <path d="M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"/>
                                        <path d="M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"/>
                                    </svg>
                                    Zeilenabstand
                                </label>
                                <input type="range" id="spacingRange" min="1" max="3" step="0.5" value="1.5" class="setting-control">
                                <span id="spacingValue">1.5x</span>
                            </div>

                            <div class="setting-action">
                                <button class="btn-primary btn-block" id="applyChangesBtn">
                                    <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                    </svg>
                                    Änderungen anwenden
                                </button>
                            </div>

                            <div class="setting-info">
                                <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                                </svg>
                                <p>Änderungen werden live in der Vorschau angezeigt. Klicke auf "PDF Exportieren" um das finale PDF zu erstellen.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Privacy & Security View -->
        <div id="privacyView" class="view">
            <h1>Privacy & Security</h1>

            <!-- Security Status Card -->
            <div class="security-status-card">
                <div class="security-header">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="M9 12l2 2 4-4"></path>
                    </svg>
                    <div>
                        <h2 id="securityStatus">Encrypted & Secure</h2>
                        <p id="securitySubtitle">All your data is encrypted with AES-256</p>
                    </div>
                </div>

                <div id="securityDetails" class="security-details"></div>
            </div>

            <!-- GDPR Compliance -->
            <div class="compliance-section">
                <h2>GDPR/DSGVO Compliance</h2>
                <div id="gdprArticles" class="gdpr-articles"></div>
            </div>

            <!-- User Rights -->
            <div class="user-rights-section">
                <h2>Your Data Rights</h2>
                <div class="rights-buttons">
                    <button class="btn-primary" id="exportAllDataBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Export All My Data (Art. 20 GDPR)
                    </button>

                    <button class="btn-secondary" id="viewComplianceLogBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        View Compliance Log (Art. 15 GDPR)
                    </button>

                    <button class="btn-secondary btn-danger" id="deleteAllDataBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                        Delete All My Data (Art. 17 GDPR)
                    </button>
                </div>
            </div>
        </div>

        <!-- Settings View -->
        <div id="settingsView" class="view">
            <h1>Settings</h1>

            <!-- Consent Management -->
            <div class="settings-section">
                <h2>Data Processing Consent</h2>
                <div id="consentStatus"></div>

                <div class="consent-buttons">
                    <button class="btn-secondary btn-danger" id="withdrawConsentBtn">
                        Withdraw Consent (Art. 7(3) GDPR)
                    </button>
                </div>
            </div>

            <div class="settings-section">
                <h2>Theme</h2>
                <button class="btn-secondary" id="themeToggleBtn">
                    Toggle Light/Dark Mode
                </button>
            </div>
        </div>

        <!-- Update History View -->
        <div id="updatesView" class="view">
            <div class="view-header">
                <h1>
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    Update-Historie
                </h1>
                <p class="view-subtitle">Versionshistorie und Changelog</p>
            </div>

            <!-- Current Version Info -->
            <div class="version-banner">
                <div class="version-banner-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        <path d="M9 12l2 2 4-4"></path>
                    </svg>
                </div>
                <div class="version-banner-content">
                    <div class="version-current">
                        <span class="version-label">Aktuelle Version:</span>
                        <span class="version-number" id="currentVersionNumber">Loading...</span>
                    </div>
                    <div class="version-build-info" id="buildInfoText">Build wird geladen...</div>
                </div>
            </div>

            <!-- Update History Table -->
            <div class="updates-container">
                <div id="updateHistoryList" class="update-history-list">
                    <!-- Updates will be rendered here -->
                </div>
            </div>
        </div>

        <!-- Editor View -->
        <div id="editorView" class="view">
            <div class="editor-header">
                <button id="backBtn" class="btn-back">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
                    </svg>
                    Back to Dashboard
                </button>

                <div class="editor-actions">
                    <button id="saveBtn" class="btn-primary">Save</button>
                    <button id="exportBtn" class="btn-secondary">Export PDF</button>
                </div>
            </div>

            <div class="editor-content" id="editorContent">
                <!-- Editor form will be inserted here -->
            </div>
        </div>
    </main>

    <!-- Compliance Log Modal -->
    <div id="complianceLogModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Compliance Log</h3>
                <button class="btn-close-modal">&times;</button>
            </div>
            <div id="complianceLogContent" class="compliance-log-content"></div>
        </div>
    </div>

    <!-- Custom Modal System (Alert/Confirm) -->
    <div id="customModal" class="custom-modal" style="display: none;">
        <div class="custom-modal-backdrop"></div>
        <div class="custom-modal-content">
            <div class="custom-modal-icon" id="customModalIcon">
                <!-- Icon will be injected here -->
            </div>
            <h3 id="customModalTitle" class="custom-modal-title"></h3>
            <p id="customModalMessage" class="custom-modal-message"></p>
            <div class="custom-modal-buttons" id="customModalButtons">
                <!-- Buttons will be injected here -->
            </div>
        </div>
    </div>

    <!-- Quick Create CV Modal -->
    <div id="quickCreateModal" class="custom-modal" style="display: none;">
        <div class="custom-modal-backdrop"></div>
        <div class="custom-modal-content" style="max-width: 600px;">
            <button class="modal-close-btn" id="closeQuickCreate">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <div class="quick-create-header">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="9" y1="15" x2="15" y2="15"></line>
                    <line x1="12" y1="12" x2="12" y2="18"></line>
                </svg>
                <h2 data-i18n="quickCreate.title">Neuen Lebenslauf erstellen</h2>
                <p data-i18n="quickCreate.subtitle">Fülle die wichtigsten Informationen aus und beginne sofort</p>
            </div>

            <form id="quickCreateForm" class="quick-create-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="qc-firstname">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <span data-i18n="editor.fields.firstname">Vorname</span>
                        </label>
                        <input type="text" id="qc-firstname" placeholder="Max" required>
                    </div>
                    <div class="form-group">
                        <label for="qc-lastname">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            <span data-i18n="editor.fields.lastname">Nachname</span>
                        </label>
                        <input type="text" id="qc-lastname" placeholder="Mustermann" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="qc-email">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                        <span data-i18n="editor.fields.email">E-Mail</span>
                    </label>
                    <input type="email" id="qc-email" placeholder="max.mustermann@beispiel.de" required>
                </div>

                <div class="form-group">
                    <label for="qc-job">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                        </svg>
                        <span data-i18n="editor.fields.jobTitle">Berufsbezeichnung</span>
                    </label>
                    <input type="text" id="qc-job" placeholder="Software Entwickler" required>
                </div>

                <div class="form-group">
                    <label for="qc-phone">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                        <span data-i18n="editor.fields.phone">Telefon</span>
                    </label>
                    <input type="tel" id="qc-phone" placeholder="+49 123 456789">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="qc-template">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                            </svg>
                            <span data-i18n="editor.fields.template">Vorlage</span>
                        </label>
                        <select id="qc-template">
                            <option value="modern">Modern (2-Spaltig)</option>
                            <option value="classic">Klassisch (Einspaltig)</option>
                            <option value="creative">Kreativ (Farbenfroh)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="qc-color">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10"></circle>
                                <circle cx="12" cy="12" r="4"></circle>
                            </svg>
                            <span data-i18n="editor.fields.colorScheme">Farbschema</span>
                        </label>
                        <select id="qc-color">
                            <option value="blue">Professionelles Blau</option>
                            <option value="green">Frisches Grün</option>
                            <option value="purple" selected>Kreatives Lila</option>
                            <option value="red">Mutiges Rot</option>
                            <option value="orange">Warmes Orange</option>
                            <option value="dark">Elegantes Dunkel</option>
                        </select>
                    </div>
                </div>

                <div class="quick-create-actions">
                    <button type="button" class="btn-secondary" id="cancelQuickCreate">Abbrechen</button>
                    <button type="submit" class="btn-primary">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                        Lebenslauf erstellen
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Application Create/Edit Modal -->
    <div id="applicationModal" class="custom-modal" style="display: none;">
        <div class="custom-modal-backdrop"></div>
        <div class="custom-modal-content application-modal-content">
            <button class="modal-close-btn" id="closeApplicationModal">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <div class="application-modal-header">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--accent-primary)" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                </svg>
                <h2 id="applicationModalTitle" data-i18n="applications.modal.title">Neue Bewerbung</h2>
                <p data-i18n="applications.modal.subtitle">Fülle alle relevanten Informationen aus</p>
            </div>

            <form id="applicationForm" class="application-form">
                <input type="hidden" id="app-id">

                <!-- Job Details Section -->
                <div class="form-section">
                    <h3>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 7h-9"></path>
                            <path d="M14 17H5"></path>
                            <circle cx="17" cy="17" r="3"></circle>
                            <circle cx="7" cy="7" r="3"></circle>
                        </svg>
                        Stellendetails
                    </h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-job-title">Stellentitel <span class="required">*</span></label>
                            <input type="text" id="app-job-title" placeholder="z.B. Senior Software Developer" required>
                        </div>
                        <div class="form-group">
                            <label for="app-company">Unternehmen <span class="required">*</span></label>
                            <input type="text" id="app-company" placeholder="z.B. Google Germany GmbH" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-location">Standort</label>
                            <input type="text" id="app-location" placeholder="z.B. Berlin, Deutschland">
                        </div>
                        <div class="form-group">
                            <label for="app-salary">Gehalt</label>
                            <input type="text" id="app-salary" placeholder="z.B. 60.000 - 80.000 EUR">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-job-type">Vertragsart</label>
                            <select id="app-job-type">
                                <option value="Full-time">Vollzeit</option>
                                <option value="Part-time">Teilzeit</option>
                                <option value="Contract">Vertrag</option>
                                <option value="Freelance">Freelance</option>
                                <option value="Internship">Praktikum</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Arbeitsmodell</label>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="app-remote">
                                    <span>Remote möglich</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" id="app-hybrid">
                                    <span>Hybrid</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Application Details Section -->
                <div class="form-section">
                    <h3>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                        Bewerbungsdetails
                    </h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-cv">Verwendeter Lebenslauf</label>
                            <select id="app-cv">
                                <option value="">Lebenslauf auswählen...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="app-status">Status</label>
                            <select id="app-status">
                                <option value="draft">Entwurf</option>
                                <option value="applied">Beworben</option>
                                <option value="under_review">Wird geprüft</option>
                                <option value="interview_scheduled">Vorstellungsgespräch geplant</option>
                                <option value="interviewed">Vorstellungsgespräch abgeschlossen</option>
                                <option value="second_round">Zweite Runde</option>
                                <option value="offer">Angebot erhalten</option>
                                <option value="accepted">Angenommen</option>
                                <option value="rejected">Abgelehnt</option>
                                <option value="withdrawn">Zurückgezogen</option>
                                <option value="no_response">Keine Antwort</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-portal">Job-Portal <span class="required">*</span></label>
                            <select id="app-portal" required>
                                <option value="">Portal auswählen...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="app-priority">Priorität</label>
                            <select id="app-priority">
                                <option value="1">1 - Niedrig</option>
                                <option value="2">2</option>
                                <option value="3" selected>3 - Mittel</option>
                                <option value="4">4</option>
                                <option value="5">5 - Hoch</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-portal-url">Link zur Stellenanzeige</label>
                            <input type="url" id="app-portal-url" placeholder="https://...">
                        </div>
                        <div class="form-group">
                            <label for="app-company-website">Firmen-Website</label>
                            <input type="url" id="app-company-website" placeholder="https://...">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-applied-date">Bewerbungsdatum</label>
                            <input type="date" id="app-applied-date">
                        </div>
                        <div class="form-group">
                            <label for="app-deadline">Bewerbungsfrist</label>
                            <input type="date" id="app-deadline">
                        </div>
                    </div>
                </div>

                <!-- Contact Section -->
                <div class="form-section">
                    <h3>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        Ansprechpartner
                    </h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="app-contact-name">Name</label>
                            <input type="text" id="app-contact-name" placeholder="z.B. Max Mustermann">
                        </div>
                        <div class="form-group">
                            <label for="app-contact-email">E-Mail</label>
                            <input type="email" id="app-contact-email" placeholder="max.mustermann@firma.de">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="app-contact-phone">Telefon</label>
                        <input type="tel" id="app-contact-phone" placeholder="+49 123 456789">
                    </div>
                </div>

                <!-- Notes & Tags Section -->
                <div class="form-section">
                    <h3>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 20h9"></path>
                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
                        </svg>
                        Notizen & Tags
                    </h3>
                    <div class="form-group">
                        <label for="app-notes">Notizen</label>
                        <textarea id="app-notes" rows="4" placeholder="Persönliche Notizen zur Bewerbung..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="app-tags">Tags (durch Komma getrennt)</label>
                        <input type="text" id="app-tags" placeholder="Remote, Senior, Startup">
                    </div>
                    <div class="form-group">
                        <label for="app-job-description">Stellenbeschreibung</label>
                        <textarea id="app-job-description" rows="6" placeholder="Kopiere hier die Stellenbeschreibung ein..."></textarea>
                    </div>
                </div>

                <div class="application-modal-actions">
                    <button type="button" class="btn-secondary" id="cancelApplication">Abbrechen</button>
                    <button type="submit" class="btn-primary">
                        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                        </svg>
                        Speichern
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Theme Toggle Button (Floating) -->
    <button class="theme-toggle" id="themeToggle">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>
    </button>

    <script src="chart.min.js"></script>
    <script src="./wailsjs/runtime/runtime.js"></script>
    <script src="./wailsjs/go/main/App.js"></script>
    <script src="app.js"></script>
    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <span class="footer-version" id="footerVersion">v1.1.2</span>
            <span class="footer-separator">•</span>
            <span>© 2025 CV Manager Pro</span>
            <span class="footer-separator">•</span>
            <span>Encrypted & GDPR Compliant</span>
        </div>
    </footer>
</body>
</html>
